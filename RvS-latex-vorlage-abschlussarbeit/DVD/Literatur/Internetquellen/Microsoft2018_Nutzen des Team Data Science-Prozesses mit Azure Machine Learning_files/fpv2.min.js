Footprint=function(){function n(n,o,f,l){if(void 0===l&&(l=""),n&&0!==n.trim().length&&Number(f)===f&&f%1===0&&!(f<0)){var c=200,s=l.trim().length>0;s&&l.trim().length>c&&(l=l.trim().substr(0,c));var g=window.location.protocol+"//";if(JSON&&XMLHttpRequest){var h="trans.gif",m=2e3,p="2017061301",v=u(),d=i(),w="MonitorID="+n+"&rid="+d+"&w3c="+v+"&prot="+window.location.protocol+"&v="+p+(s?"&tag="+l:"")+"&DATA=",T=function(){var n=e(fpconfig,g);if(0!==n.length){var t=r(n,g,h),o=[];for(var i in fpconfig.r)o.push(g+fpconfig.r[i]+"?"+w);a(t,m,f,o,null)}};if("undefined"==typeof fpconfig){for(var b in o)o[b]=g+o[b];var M=function(n){fpconfig=JSON.parse(n.responseText),T()};t(o,0,"GET",M)}else T()}}}function t(n,e,r,o){"GET"!==r&&"POST"!==r&&(r="GET");var i=new XMLHttpRequest;i.onreadystatechange=function(){4===this.readyState&&200===this.status&&null!=o&&o(this)};var u=function(){e++<n.length&&t(n,e,r,o)};i.onerror=u;var a=n[e];i.open(r,a,!0),i.send()}function e(n,t){var e=1,r=2,o=12,i="http://"===t.toLowerCase()?r:e,u=[],a=0;for(var f in n.e){var l=n.e[f];l.w>0&&l.m&i&&(a+=l.w,u.push({endpoint:l.e,cumWeight:a,weight:l.w,measurementType:l.m}))}for(var c=[],s=Math.min(n.n,u.length);c.length<s;){var g=Math.floor(Math.random()*a),h=null;for(var m in u)null==h?g<u[m].cumWeight&&(h=u[m],delete u[m]):u[m].cumWeight-=h.weight;a-=h.weight;var p=h.measurementType&o?"17k.gif":"trans.gif";c.push({id:h.endpoint,testImage:p})}return c}function r(n,t,e){var r=[];for(var o in n){var u=n[o].id,a=n[o].testImage,f=t+u;if(u.indexOf(".")===-1)f+=".clo.footprintdns.com";else if("*"===u.charAt(0)){var l=u.substring(2),c=i();f=t+c+"."+l,u="clo.footprintdns.com"===l||"nrb.footprintdns.com"===l||"azr.footprintdns.com"===l?c:l}f+="/apc/";var s=f+e+"?"+i();r.push({url:s,requestID:u,object:e,conn:"cold"});var g=f+a+"?"+i();r.push({url:g,requestID:u,object:a,conn:"warm"})}return r}function o(n,t){for(var e=[],r=0;r<t.length;r++)for(var r=0;r<t.length;r++)e.push({RequestID:t[r].requestID,Object:t[r].object,Conn:t[r].conn,Result:Math.round(n[r])});return JSON.stringify(e)}function i(){function n(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return n()+n()+n()+n()+n()+n()+n()+n()}function u(){return!(!window.performance||!window.performance.getEntriesByName)}function a(n,e,r,i,a){function f(r){if(null!=c&&clearTimeout(c),null!=l?g[r]=(new Date).getTime()-l:g[r]=-1,r=(h+m)%n.length,s=new Image,h++<n.length){l=(new Date).getTime(),s.onload=function(){f(r)};var p=function(){s.onload=null,s.onerror=null,l=null,f(r)};c=setTimeout(function(){p()},e),s.onerror=function(){null!=c&&clearTimeout(c),c=null,p()},s.src=n[r].url}else{if(null!=i&&0!==i.length){if(u())for(var v=0;v<n.length;v++){var d=n[v].url,w=window.performance.getEntriesByName(d);g[v]!==-1&&w&&w[0]&&(g[v]=w[0].duration)}for(var T=o(g,n),b=[],M=0;M<i.length;M++){var y=i[M]+T;b.push(y)}t(b,0,"GET",null)}null!=a&&a()}}var l,c,s,g=[],h=0,m=0;setTimeout(function(){f(0)},r)}return{start:n}}();
